<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no"/>
  <title>swagger.json generation</title>
  <link href="http://go-swagger.github.io//css/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link href="http://go-swagger.github.io//css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link rel="stylesheet" href="http://go-swagger.github.io//css/prism.css" />
  <style type="text/css">
  
    footer.page-footer{background-image: url(http://go-swagger.github.io//images/default.png);}
  
  </style>
</head>
<body>
  
    
    
    
  
  <div id="index-banner" class="parallax-container">
  
    <div class="section no-pad-bot">
      <div class="container">
        <h1 class="header center teal-text text-lighten-2"><a href="http://go-swagger.github.io/">go-swagger toolkit</a></h1>
        <div class="row center">
          <h5 class="header col s12 light">Swagger 2.0 describes your API&#39;s for you, so you don&#39;t have to</h5>
        </div>
        <div class="row center">
        
          <a href="https://github.com/go-swagger/go-swagger"><img src="http://go-swagger.github.io//images/github2-dreamstale35.png"></a>
        
        
        
        
        
        </div>
      </div>
    </div>
    <div class="parallax">
    
      <img src="http://go-swagger.github.io//images/default.png">
    
    </div>
  </div>



<div class="container">
  <div class="section">

    <div class="row">
      <div class="col s12">
        <div class="card-panel">
          <h2>swagger.json generation</h2>
          <p>
          
            
              <a href="http://go-swagger.github.io//categories/generate/">generate</a>
            
          
          </p>
          <p>

<p>The toolkit has a command that will let you generate a swagger spec document from your code.
The command integrates with go doc comments, and makes use of structs when it needs to know of
types.</p>

<p>Based on the work from <a href="https://github.com/yvasiyarov/swagger">https://github.com/yvasiyarov/swagger</a><br />
It uses a similar approach but with expanded annotations and it produces a swagger 2.0 spec.</p>

<p>The goal of the syntax is to make it look as a natural part of the documentation for the application code.</p>

<p>The generator is passed a base path (defaults to current) and tries to extract a go package path from that.
Once it has a go package path it will scan the package recursively, skipping the Godeps, files ending in test.go and
directories that start with an underscore, it also skips file system entries that start with a dot.</p>

<p>Once the parser has encountered a comment that matches on of its known tags, the parser will assume that the rest of
the comment block is for swagger.</p>

<h3 id="usage:958e7270f96f5407d7d980f500805b1b">Usage</h3>

<p>To generate a spec:</p>

<pre><code>swagger generate spec -o ./swagger.json
</code></pre>

<p>You give it a main file and it will parse all the files that are required by that main
package to produce a swagger specification.</p>

<p>To use you can add a go:generate comment to your main file for example:</p>

<pre><code>//go:generate swagger generate spec
</code></pre>

<p>The command requires a main package or file and it wants your code to compile. It uses the go tools loader to load an
application and then scan all the packages that are in use by the code base.
This means that for something to be discoverable it needs to be reachable by a codepath triggered through the main
package.</p>

<h4 id="parsing-rules:958e7270f96f5407d7d980f500805b1b">Parsing rules</h4>

<p>This command relies heavily on the way godoc works! This means you should be very aware of all the things godoc
supports.</p>

<ul>
<li><a href="https://godoc.org/golang.org/x/tools/cmd/godoc">godoc documentation</a></li>
<li><a href="http://blog.golang.org/godoc-documenting-go-code">godoc documenting go code</a></li>
<li><a href="https://golang.org/pkg/go/doc/#ToHTML">godoc ToHTML</a></li>
</ul>

<p>Single page which documents all the currently supported godoc rules:</p>

<ul>
<li><a href="https://godoc.org/github.com/fluhus/godoc-tricks">godoc tricks</a></li>
</ul>

<p>When an object has a title and a description field, it will use the go rules to parse those. So the first line of the
comment block will become the title, or a header when rendered as godoc. The rest of the comment block will be treated
as description up to either the end of the comment block, or a line that starts with a known annotation.</p>

<h4 id="annotation-syntax:958e7270f96f5407d7d980f500805b1b">Annotation syntax</h4>

<p>If you want to exclude something from the spec generation process you can try with the struct tag: <code>json:&quot;-&quot;</code></p>

<p>There are several annotations that mark a comment block as a participant for the swagger spec.</p>

<ul>
<li><a href="meta">swagger:meta</a></li>
<li><a href="route">swagger:route</a></li>
<li><a href="params">swagger:params</a></li>
<li><a href="response">swagger:response</a></li>
<li><a href="model">swagger:model</a></li>
<li><a href="allOf">swagger:allOf</a></li>
<li><a href="strfmt">swagger:strfmt</a></li>
</ul>
</p>
          <p>9 Nov 2015
            
          </p>
          
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col s3 m1">
      
        <a class="btn-floating btn-large waves-effect waves-light" href="http://go-swagger.github.io/usage/validate/"><i class="mdi-navigation-arrow-back"></i></a>
      
      </div>
      <div class="col s6 m10 center">&nbsp</div>
      <div class="col s3 m1">
      
        <a class="btn-floating btn-large waves-effect waves-light" href="http://go-swagger.github.io/generate/client/"><i class="mdi-navigation-arrow-forward"></i></a>
      
      </div>
    </div>

  </div>
</div>

  <footer class="page-footer">
    <div class="footer-copyright">
      <div class="container">
      Â© 2015 go-swagger contributors
      <div class="right">Design <a class="grey-text text-lighten-4" href="http://pdevty.github.io/blog/">pdevty</a></div>
      </div>
    </div>
  </footer>
  <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
  <script src="http://go-swagger.github.io//js/materialize.min.js"></script>
  <script src="http://go-swagger.github.io//js/init.js"></script>
  <script src="http://go-swagger.github.io//js/prism.js"></script>
  

  </body>
</html>

